<?xml version="1.0" encoding="UTF-8"?>
<!-- 
<templates xml:space="preserve">
    <t t-name="ExpandableTextFieldTemplate">
    <div t-att-class="state.isExpanded ? '' : 'o-text-overflow-hidden'">
        <span t-ref="textContainer" class="text-content">
            <t t-esc="displayText" />
        </span>
        <button t-if="canExpand" t-on-click="toggleExpand">
            <t t-esc="state.isExpanded ? 'Collapse' : 'Expand'" />
        </button>
    </div>
</t>

</templates> -->

<!-- <templates xml:space="preserve">
    <t t-name="ExpandableTextFieldTemplate">
        <div t-attf-class="o_expandable_text_field {{ state.isExpanded ? 'expanded' : 'collapsed' }}">
            <div
                t-ref="textContainer"
                class="text-content"
                t-att-style="state.isExpanded ? '' : 'overflow: hidden; text-overflow: ellipsis; white-space: nowrap;'"
                t-esc="displayText"
            ></div>
            <button
                t-if="canExpand"
                t-on-click.stop.prevent="toggleExpand"
                class="btn btn-link"
                t-esc="state.isExpanded ? 'Collapse' : 'Expand'"
            ></button>
        </div>
    </t>
</templates> -->

<templates xml:space="preserve">
    <t t-name="ExpandableTextFieldTemplate">
        <div t-attf-class="o_expandable_text_field {{ state.isExpanded ? 'expanded' : 'collapsed' }}">
            <!-- Text content with overflow handling -->
            <div
                t-ref="textContainer"
                class="text-content"
                t-att-style="state.isExpanded ? '' : 'overflow: hidden; text-overflow: ellipsis; white-space: nowrap;'"
                t-esc="displayText"
            ></div>

            <!-- Expand/Collapse Button placed below the text -->
            <div class="expand-button-container">
                <button
                    t-if="canExpand"
                    t-on-click.stop.prevent="toggleExpand"
                    class="btn btn-link"
                    t-esc="state.isExpanded ? 'Collapse' : 'Expand'"
                ></button>
            </div>
        </div>
    </t>
</templates>
